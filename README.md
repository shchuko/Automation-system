## **Система автоматизации для маломобильных групп населения**
**Внимание**: перед загрузкой скетчей в память микроконтроллеров *[в составе плат Arduino Nano/Mini]* **необходимо сменить загрузчик на Optiboot**. В противном случае можно нахватать неприятностей со сторожевым таймером avr/wdt, который  стандартным загрузчиком Arduino по умолчанию не поддерживается (словите бутлуп, я предупредил). 

Также, рекомендуется включить сворачивание кода в (см. настройки Arduino IDE), для более удобной навигации. 

Пока что совсем нет времени на составление подробного описания проекта, краткая информация о функционале содержится в каталоге Docs/. 

Просьба сильно не пинать, присутствуют серьёзные косяки как в программном (функции с указателями на 10 переменных, местами паскале-образный школьный стиль), так и аппаратном (текущая версия системы задействует сдвиговый регистр "чтоб не простаивал зря") проектировании. Разработка производилась в условиях ограниченного времени, за месяц был переписан весь код, добавлены два модуля в систему. 

Как-нибудь (на пенсии) займусь допиливанием, разгребу классы по отдельным библиотекам, сделаю адекватную светодиодную индикацию. Еще надо бы алгоритм связи между модулями полностью переделать, да придумать что-то с реорганизацией меню дисплея. Буду рад услышать советы по этому поводу: пока что всё реализовано ветвлением с if/switch и набором функций.

Кое-где можно откопать комментарии к коду, но чем меньше оставалось времени, тем больше приходилось писать нелогичных и страшных вещей, никак их не комментируя. 

Наиболее интересные места — класс Time_Correspondence (скетч панели управления) и Pressure_Forecast (скетч модуля сбора информации с сенсоров). С первым можно реализовать неплохой будильник, со вторым — что-то вроде той коробочки-предсказателя погоды от Алекса Гайвера. Ну, может быть, и меню дисплея кого-то заинтересует, хотя оно требует серьезных доработок.

Если кто-то захочет "поковыряться" в этом всем на макетке, советую начать с панели управления: для запуска достаточно подцепить 1602 LCD на шину I2C, часы реального времени 1302 и nRF-ку на шину SPI (см. схему). Также, на пин подключения фоторезистора и кнопок управления стоит подать +5В и не морочиться с делителем напряжения (номиналы резисторов рассчитаны криво, но расковыривать уже ничего не стал, фиксил программно). Управлять модулем можно через порт: отправка цифр от 1 до 7 соответствует нажатию кнопок. 

На этом пока что всё)
